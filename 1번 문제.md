### 동시에 같은 DB Table row 를 업데이트 하는 상황을 방어하기 위해 어떻게 개발하실 건지 설명해주세요.

* 트랜잭션을 이용하는 방식과 락을 이용하여 동시에 같은 table row 를 업데이트 하는 것을 방지할 수 있다

#### 트랜잭션

* 데이터베이스의 상태를 변환시키는 하나의 논리적 기능을 수행하는 작업의 단위 또는 한번에 수행되어야 할 연산의 묶음을 의미한다
* 쪼갤 수 없는 업무 처리의 최소 단위를 의미한다

##### 트랜잭션의 성질

* DB 시스템의 병행 제어 및 회복 작업 시 처리되는 작업의 논리적 단위
* 하나의 트랜잭션은 Commit 되거나 Rollback 된다
  * commit: 트랜잭션에 대한 작업이 성공적으로 완료되고, DB 가 일관된 상태일 때, 해당 트랜잭션 연산이 완료됨을 알리는 연산
  * rollback: 트랜잭션에 대한 작업 도중, 비정상 처리가 되어 트랜잭션의 원자성이 깨진 경우, 트랜잭션을 처음부터 다시 시작하거나 부분 연산된 결과를 원복하는 연산

##### 트랜잭션 특징

* 원자성
  * 트랜잭션이 DB 에 모두 반영되거나, 모두 반영되지 않는 것
* 일관성
  * 트랜잭션 작업 처리 결과는 항상 일관성있게 동작하는 것
* 독립성
  * 서로 다른 트랜잭션은 다른 트랜잭션 연산과 독립되게 실행되는 것
* 지속성
  * 트랜잭션 성공 시, 결과는 영구적으로 반영되는 것

#### Lock

* 여러 사용자가 같은 데이터를 동시에 접근하는 상황에서 데이터의 무결성과 일관성을 지키기 위해 사용된다
* 락은 공유락과 베타락이 존재한다

##### 공유락

* 데이터를 읽을 떄 사용되는 락이며, 공유락끼리 동시에 접근이 가능하다
  * 읽기 명령에 사용되는 락으로 `Read Lock` 이라고 불리며, Shared 의 앞 글자를 따서 `S` 로 표시한다 
* 하나의 데이터를 읽는 것은 여러 사용자가 동시에 할 수 있음을 의미한다
* 공유락이 설정된 곳에 베타락을 사용할 수 없다

##### 베타락

* 데이터를 변경할 때 사용되며, 트랜잭션이 완료될 때까지 유지된다
  * 쓰기 명령에 사용되는 락으로 `Write Lock` 이라고 불리며, `X` 로 표시한다
* 락이 해제될 때까지 읽기를 포함한 다른 트랜잭션은 해당 리소스에 접근할 수 없다
* 다른 트랜잭션이 수행되고 있는 데이터에 대해 접근하여 함께 락을 설정할 수 없다
